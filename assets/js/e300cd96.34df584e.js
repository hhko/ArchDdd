"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[219],{5678:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>a,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var r=s(4848),l=s(8453);const t={},i="WSL2",d={id:"infrastructure/wsl/README",title:"WSL2",description:"\uc0ac\uc804 \uc124\uce58",source:"@site/docs/04-infrastructure/01-wsl/README.md",sourceDirName:"04-infrastructure/01-wsl",slug:"/infrastructure/wsl/",permalink:"/archddd/docs/infrastructure/wsl/",draft:!1,unlisted:!1,editUrl:"https://github.com/hhko/archddd/tree/main/docs/docs/04-infrastructure/01-wsl/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\uc778\ud504\ub77c",permalink:"/archddd/docs/category/\uc778\ud504\ub77c"},next:{title:"README",permalink:"/archddd/docs/infrastructure/ansible/"}},o={},c=[{value:"\uc0ac\uc804 \uc124\uce58",id:"\uc0ac\uc804-\uc124\uce58",level:2},{value:"Windows Terminal",id:"windows-terminal",level:3},{value:"VSCode",id:"vscode",level:3},{value:"WSL2",id:"wsl2-1",level:2},{value:"WSL2 \uc124\uce58",id:"wsl2-\uc124\uce58",level:3},{value:"WSL2 \uac00\uc0c1\ud654 \uc6b4\uc601\uccb4\uc81c \ud30c\uc77c",id:"wsl2-\uac00\uc0c1\ud654-\uc6b4\uc601\uccb4\uc81c-\ud30c\uc77c",level:3},{value:"WSL2 \uac00\uc0c1\ud654 \uc124\uce58",id:"wsl2-\uac00\uc0c1\ud654-\uc124\uce58",level:3},{value:"WSL2 \uacc4\uc815 \ub85c\uadf8\uc778",id:"wsl2-\uacc4\uc815-\ub85c\uadf8\uc778",level:3},{value:"WSL2 \uae30\ubcf8 \uac00\uc0c1\ud654 \uc2e4\ud589",id:"wsl2-\uae30\ubcf8-\uac00\uc0c1\ud654-\uc2e4\ud589",level:3},{value:"WSL2 \ud30c\uc77c \uacf5\uc720",id:"wsl2-\ud30c\uc77c-\uacf5\uc720",level:3},{value:"WSL2 \uc790\uc6d0 \uc124\uc815",id:"wsl2-\uc790\uc6d0-\uc124\uc815",level:3},{value:"SSH \uad6c\uc131",id:"ssh-\uad6c\uc131",level:2},{value:"SSH \uc11c\ubc84: WSL Ubuntu \uc11c\ubc84",id:"ssh-\uc11c\ubc84-wsl-ubuntu-\uc11c\ubc84",level:3},{value:"SSH \ud074\ub77c\uc774\uc5b8\ud2b8: \uc708\ub3c4\uc6b0",id:"ssh-\ud074\ub77c\uc774\uc5b8\ud2b8-\uc708\ub3c4\uc6b0",level:3},{value:"VSCode \uc811\uc18d \uc815\ubcf4",id:"vscode-\uc811\uc18d-\uc815\ubcf4",level:3},{value:"Docker Desktop",id:"docker-desktop",level:2},{value:"Docker Desktop \uc124\uce58",id:"docker-desktop-\uc124\uce58",level:3},{value:"\ucc38\uace0 \ub3d9\uc601\uc0c1",id:"\ucc38\uace0-\ub3d9\uc601\uc0c1",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"wsl2",children:"WSL2"}),"\n",(0,r.jsx)(n.h2,{id:"\uc0ac\uc804-\uc124\uce58",children:"\uc0ac\uc804 \uc124\uce58"}),"\n",(0,r.jsx)(n.h3,{id:"windows-terminal",children:"Windows Terminal"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/microsoft/terminal/releases/download/v1.19.10821.0/Microsoft.WindowsTerminal_1.19.10821.0_8wekyb3d8bbwe.msixbundle",children:"Windows Terminal v1.19.10821.0 \ud30c\uc77c"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/microsoft/terminal/releases",children:"https://github.com/microsoft/terminal/releases"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vscode",children:"VSCode"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://code.visualstudio.com/sha/download?build=stable&os=win32-x64-user",children:"VSCode \ud30c\uc77c"})}),"\n",(0,r.jsxs)(n.li,{children:["\ud655\uc7a5 \ub3c4\uad6c","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack",children:"Remote Development \ud30c\uc77c"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker",children:"Docker \ud30c\uc77c"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"wsl2-1",children:"WSL2"}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uc124\uce58",children:"WSL2 \uc124\uce58"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# 1. \uad00\ub9ac\uc790 \uad8c\ud55c Windows Terminal \uc2e4\ud589\r\n\r\n# 2. \uc708\ub3c4\uc6b0 \ubc84\uc804 \ud655\uc778\r\n#   - OS Version: 10.0.19045 N/A Build 19045        <- x64 \uc2dc\uc2a4\ud15c\uc758 \uacbd\uc6b0: \ubc84\uc804 1903 \uc774\uc0c1, \ube4c\ub4dc 18362.1049 \uc774\uc0c1.\r\ncmd.exe /c ver\r\nwinver\r\nsysteminfo\r\n\r\n# 3. Windows \uae30\ub2a5 On\r\n# optionalfeatures\r\n\r\n# 3.1 Linux\uc6a9 Windows \ud558\uc704 \uc2dc\uc2a4\ud15c \uc0ac\uc6a9\r\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\r\n\r\n# 3.2 Virtual Machine \uae30\ub2a5 \uc0ac\uc6a9\r\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\r\n\r\n# 4. Linux \ucee4\ub110 \uc5c5\ub370\uc774\ud2b8 \ud328\ud0a4\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc & \uc124\uce58\r\nhttps://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi\r\n\r\n# WSL 2\ub97c \uae30\ubcf8 \ubc84\uc804\uc73c\ub85c \uc124\uc815\r\nwsl --set-default-version 2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uac00\uc0c1\ud654-\uc6b4\uc601\uccb4\uc81c-\ud30c\uc77c",children:"WSL2 \uac00\uc0c1\ud654 \uc6b4\uc601\uccb4\uc81c \ud30c\uc77c"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi",children:"wsl_update_x64.msi \ud30c\uc77c"})}),"\n",(0,r.jsxs)(n.li,{children:["Ubuntu","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["24-04 LTS ",(0,r.jsx)(n.code,{children:"noble"}),": ",(0,r.jsx)(n.a,{href:"https://cloud-images.ubuntu.com/wsl/noble/current/ubuntu-noble-wsl-amd64-wsl.rootfs.tar.gz",children:"ubuntu-noble-wsl-amd64-wsl.rootfs.tar.gz"})]}),"\n",(0,r.jsxs)(n.li,{children:["22.04 LTS ",(0,r.jsx)(n.code,{children:"jammy"}),": ",(0,r.jsx)(n.a,{href:"https://cloud-images.ubuntu.com/wsl/jammy/current/ubuntu-jammy-wsl-amd64-wsl.rootfs.tar.gz",children:"ubuntu-jammy-wsl-amd64-wsl.rootfs.tar.gz"})]}),"\n",(0,r.jsxs)(n.li,{children:["20.04 LTS ",(0,r.jsx)(n.code,{children:"focal"}),": ",(0,r.jsx)(n.a,{href:"https://cloud-images.ubuntu.com/releases/focal/release/ubuntu-20.04-server-cloudimg-amd64-wsl.rootfs.tar.gz",children:"ubuntu-20.04-server-cloudimg-amd64-wsl.rootfs.tar.gz \ud30c\uc77c"})]}),"\n",(0,r.jsxs)(n.li,{children:["18.04 LTS ",(0,r.jsx)(n.code,{children:"bionic"}),": ",(0,r.jsx)(n.a,{href:"https://cloud-images.ubuntu.com/releases/bionic/release/ubuntu-18.04-server-cloudimg-amd64-wsl.rootfs.tar.gz",children:"ubuntu-18.04-server-cloudimg-amd64-wsl.rootfs.tar.gz \ud30c\uc77c"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uac00\uc0c1\ud654-\uc124\uce58",children:"WSL2 \uac00\uc0c1\ud654 \uc124\uce58"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# \ud3f4\ub354 \uc0dd\uc131\r\n#   - WSL \uac00\uc0c1\ud654 \ubcfc\ub968 \uacbd\ub85c: E:\\Workspace\\wsl\\Ubuntu\\20.04\\Volume\r\n#   - WSL \uac00\uc0c1\ud654 \uc6b4\uc601\uccb4\uc81c \uacbd\ub85c: E:\\Workspace\\wsl\\Ubuntu\\20.04\\Releases\r\nmkdir -p E:\\Workspace\\wsl\\Ubuntu\\20.04\\Volume\r\nmkdir -p E:\\Workspace\\wsl\\Ubuntu\\20.04\\Releases\r\n#   - \ud30c\uc77c \ubcf5\uc0ac\r\n#     ubuntu-20.04-server-cloudimg-amd64-wsl.rootfs.tar.gz\r\n\r\n# \uc124\uce58: --import <Distro> <InstallLocation> <FileName> [\uc635\uc158]\r\nwsl --import ubuntu20.04 `\r\n    E:\\Workspace\\wsl\\Ubuntu\\20.04\\Volume `\r\n    E:\\Workspace\\wsl\\Ubuntu\\20.04\\Releases\\ubuntu-20.04-server-cloudimg-amd64-wsl.rootfs.tar.gz `\r\n    --version 2\r\n\r\n# \uc81c\uac70: --unregister\r\nwsl --unregister ubuntu20.04\r\n\r\n# \ubaa9\ub85d: --list, -l [\uc635\uc158], --verbose, -v\r\nwsl -l -v\r\n  NAME                   STATE           VERSION\r\n* xyz                    Stopped         2\r\n  ubuntu20.04            Stopped         2\r\n\r\n# \uc2e4\ud589: --distribution, -d\r\nwsl -d ubuntu20.04\r\n\r\n# root \ud328\uc2a4\uc6cc\ud06c \ubcc0\uacbd\r\npasswd\r\n\r\n# \uc885\ub8cc: --terminate, -t\r\nwsl -t ubuntu20.04\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uacc4\uc815-\ub85c\uadf8\uc778",children:"WSL2 \uacc4\uc815 \ub85c\uadf8\uc778"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \uacc4\uc815 \uc0dd\uc131\r\nadduser {\uc811\uc18d \uacc4\uc815}\r\n\r\n# \uacc4\uc815 \uc811\uc18d \ud14c\uc2a4\ud2b8\r\nsu - {\uc811\uc18d \uacc4\uc815}       # {\uc811\uc18d \uacc4\uc815} \uacc4\uc815 \ub85c\uadf8\uc778\r\nexit                  # {\uc811\uc18d \uacc4\uc815} \uacc4\uc815 \ub85c\uadf8 \uc544\uc6c3\r\n\r\n# \uae30\ubcf8 \uacc4\uc815 \uc9c0\uc815: /etc/wsl.conf \ud30c\uc77c\uc744 \uc0dd\uc131\ud55c\ub2e4\r\ntee /etc/wsl.conf <<_EOF\r\n[user]\r\ndefault={\uc811\uc18d \uacc4\uc815}\r\n_EOF\r\n\r\n# \uae30\ubcf8 \uacc4\uc815 \ud14c\uc2a4\ud2b8\r\nexit\r\nwsl -t ubuntu20.04\r\nwsl -d ubuntu20.04\r\n\r\n# \uacc4\uc815 \ub85c\uadf8\uc778: --user, -u\r\nwsl -d ubuntu20.04            # \uae30\ubcf8 \uacc4\uc815 \ub85c\uadf8\uc778\r\nwsl -d ubuntu20.04 -u root    # root \uacc4\uc815 \ub85c\uadf8\uc778\r\nwsl -d ubuntu20.04 -u {\uc811\uc18d \uacc4\uc815}    # {\uc811\uc18d \uacc4\uc815} \uacc4\uc815 \ub85c\uadf8\uc778\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uae30\ubcf8-\uac00\uc0c1\ud654-\uc2e4\ud589",children:"WSL2 \uae30\ubcf8 \uac00\uc0c1\ud654 \uc2e4\ud589"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \uae30\ubcf8: --set-default, -s\r\nwsl -s ubuntu20.04\r\n\r\n# \uae30\ubcf8 \ud655\uc778\r\nwsl -l -v\r\n  NAME                   STATE           VERSION\r\n* ubuntu20.04            Running         2\r\n  xyz                    Running         2\r\n\r\n# \uc2e4\ud589\r\nwsl                   # \uae30\ubcf8 \uac00\uc0c1\ud654 \uc2e4\ud589\r\nwsl -d ubuntu20.04    # ubuntu20.04 \uac00\uc0c1\ud654 \uc2e4\ud589\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\ud30c\uc77c-\uacf5\uc720",children:"WSL2 \ud30c\uc77c \uacf5\uc720"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \uc708\ub3c4\uc6b0 -> WSL\r\n\\\\wsl$                # \uc708\ub3c4\uc6b0 \ud0d0\uc0c9\uae30\uc5d0\uc11c \uc785\ub825\r\n\r\n# \uc708\ub3c4\uc6b0 <- WSL\r\nmount -l\r\n\r\ncd /mnt\r\nls -al\r\n  c  d  e  wsl  wslg\r\n\r\ncd /mnt/c             # \uc708\ub3c4\uc6b0 C:\\ \ub4dc\ub77c\uc774\ube0c\r\nls -al\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wsl2-\uc790\uc6d0-\uc124\uc815",children:"WSL2 \uc790\uc6d0 \uc124\uc815"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"%USERPROFILE%\\.wslconfig"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows/wsl/wsl-config",children:"Advanced settings configuration in WSL"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[wsl2]\r\nmemory=48GB\r\nprocessors=8\r\nswap=0\r\nlocalhostForwarding=true\n"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"ssh-\uad6c\uc131",children:"SSH \uad6c\uc131"}),"\n",(0,r.jsx)(n.h3,{id:"ssh-\uc11c\ubc84-wsl-ubuntu-\uc11c\ubc84",children:"SSH \uc11c\ubc84: WSL Ubuntu \uc11c\ubc84"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \uc2dc\uc2a4\ud15c\uc5d0 \ub300\ud55c \ubaa8\ub4e0 \ud638\uc2a4\ud2b8 \ud0a4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4\r\nsudo ssh-keygen -A\r\n\r\n# ssh \uc811\uc18d\uc2dc \uc554\ud638 \uc785\ub825\r\nsudo vi /etc/ssh/sshd_config\r\n    PasswordAuthentication yes\r\n\r\n# \uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791\r\nsudo service ssh restart\r\n\r\n# IP \ud655\uc778\r\nip a\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ssh-\ud074\ub77c\uc774\uc5b8\ud2b8-\uc708\ub3c4\uc6b0",children:"SSH \ud074\ub77c\uc774\uc5b8\ud2b8: \uc708\ub3c4\uc6b0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# 1. WSL \uc11c\ubc84: Home \ub514\ub809\ud1a0\ub9ac\uc5d0 .ssh \ud3f4\ub354\ub97c \uc0dd\uc131\ud558\uae30(\uc5c6\ub2e4\uba74)\r\nssh {\uc811\uc18d \uacc4\uc815}@{\uc811\uc18d IP}\r\nmkdir ~/.ssh\r\nls -al\r\n\r\n# 2. \uc708\ub3c4\uc6b0: SSH \ud0a4 \uc0dd\uc131 : RSA \uae30\ubc18 \ud615\uc2dd\uc73c\ub85c \ud0a4 \ub9cc\ub4e4\uae30\r\n#   - $env:USERPROFILE\\.ssh\\id_rsa\r\n#   - $env:USERPROFILE\\.ssh\\id_rsa.pub\r\nssh-keygen\r\n\r\n# 3. \uc708\ub3c4\uc6b0: SSH Public \ud0a4 \ub0b4\uc6a9 \ubcf5\uc0ac\r\ntype $env:USERPROFILE\\.ssh\\id_rsa.pub | ssh {\uc811\uc18d \uacc4\uc815}@{\uc811\uc18d IP} "cat >> .ssh/authorized_keys"\r\n\r\n# 4. \uc708\ub3c4\uc6b0: SSH \uc811\uc18d\r\nssh {\uc811\uc18d \uacc4\uc815}@{\uc811\uc18d IP}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"vscode-\uc811\uc18d-\uc815\ubcf4",children:"VSCode \uc811\uc18d \uc815\ubcf4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"$env:USERPROFILE\\.ssh\\config"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Host "WSL | {\uc811\uc18d IP}"\r\n    HostName {\uc811\uc18d IP}\r\n    User {\uc811\uc18d \uacc4\uc815}\r\n\r\nHost *\r\n    StrictHostKeyChecking no\n'})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"docker-desktop",children:"Docker Desktop"}),"\n",(0,r.jsx)(n.h3,{id:"docker-desktop-\uc124\uce58",children:"Docker Desktop \uc124\uce58"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop/",children:"https://www.docker.com/products/docker-desktop/"})}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h2,{id:"\ucc38\uace0-\ub3d9\uc601\uc0c1",children:"\ucc38\uace0 \ub3d9\uc601\uc0c1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=J9pxPVcd-fY&t",children:"https://www.youtube.com/watch?v=J9pxPVcd-fY&t"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=xUNDErAbRiM",children:"https://www.youtube.com/watch?v=xUNDErAbRiM"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var r=s(6540);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);